(this.webpackJsonpherolo=this.webpackJsonpherolo||[]).push([[0],{267:function(e,t,n){e.exports=n(467)},272:function(e,t,n){},278:function(e,t,n){e.exports=n.p+"static/media/star.b52cd51a.png"},279:function(e,t,n){e.exports=n.p+"static/media/emptystar.daf49cf1.png"},281:function(e,t,n){e.exports=n.p+"static/media/reload.5286b241.png"},282:function(e,t){e.exports="data:image/png;base64,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"},283:function(e,t,n){e.exports=n.p+"static/media/flower.fa9ff991.png"},284:function(e,t,n){e.exports=n.p+"static/media/settings.d6422701.png"},285:function(e,t,n){},467:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(10),i=n.n(c),o=(n(272),n(6)),u=n(42),l=n(47),A=n(12),s=function(e){var t=[],n=[];return function(a,r){fetch("https://lit-coast-96056.herokuapp.com/autocomplete",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({input:e})}).then((function(e){return e.json()})).then((function(e){JSON.parse(e).filter((function(e){t.includes(e.LocalizedName)||n.push({name:e.LocalizedName,key:e.Key}),t.push(e.LocalizedName)}))})).then((function(){return a({type:"API_AUTOCOMPLETE",locations:n})})).catch((function(e){return a({type:"API_ERR",err:e})}))}},m=function(){return function(e,t){e({type:"API_CLEAN_AUTOCOMPLETE"})}},f=function(e){var t=[];return fetch("https://lit-coast-96056.herokuapp.com/get5daysforecast",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({key:e})}).then((function(e){return e.json()})).then((function(e){return JSON.parse(e).DailyForecasts.map((function(e){t.push({date:e.Date,temp:e.Temperature})})),t}))},p=function(e){return function(t,n){f(e).then((function(e){t({type:"API_DAYS_FORECAST",days:e})})).catch((function(e){return t({type:"API_ERR",err:e})}))}},d=function(e){return function(t,n){f(e[0].key).then((function(n){t({type:"API_DAYS_FAVORITES_CURENNT",days:n,data:e[0]})})).catch((function(e){return t({type:"API_ERR",err:e})}))}},E=function(e){return fetch("https://lit-coast-96056.herokuapp.com/getcurrentforecast",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({key:e})}).then((function(e){return e.json()})).then((function(e){var t=JSON.parse(e);return{imperial:t[0].Temperature.Imperial.Value,metric:t[0].Temperature.Metric.Value,text:t[0].WeatherText}}))},h=function(e){var t=e.key,n=e.name,a={};return a.name=n,a.key=t,function(e,n){E(t).then((function(e){return a.forecast=e})).then((function(){e({type:"API_CURRENT_FORECAST",data:a})})).catch((function(t){return e({type:"API_ERR",err:t})}))}},g=function(e){var t=e.key,n=e.name,a={};return a.name=n,function(e,n){E(t).then((function(e){return a.forecast=e})).then((function(){e({type:"FAVORITES_API_CALL",data:a})})).catch((function(t){return e({type:"API_ERR",err:t})}))}},b=function(e){return function(t,n){fetch("https://lit-coast-96056.herokuapp.com/getgeoforecast",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({coordinates:e})}).then((function(e){return e.json()})).then((function(e){var n=JSON.parse(e);t(h({name:n.EnglishName,key:n.Key}))})).catch((function(e){return t({type:"API_ERR",err:e})}))}},v=function(){return function(e,t){e({type:"API_CLEAN"})}},O=n(256),y=function(e){var t=e.content,n=Object(O.a)(e,["content"]);return r.a.createElement("span",Object.assign({style:{color:"red"}},n),t)},j=n(518),C=n(519),S=n(503),I=n(504),w=n(469);function R(e){var t=e.handleSubmit,c=Object(o.c)((function(e){return e.api.autoComplete})),i=Object(o.c)((function(e){return e.modal})),u=Object(o.b)(),l=Object(a.useState)(""),f=Object(A.a)(l,2),p=f[0],d=f[1],E=Object(a.useState)(!1),h=Object(A.a)(E,2),g=h[0],b=h[1],v=Object(a.useState)([]),O=Object(A.a)(v,2),R=O[0],N=O[1],T=Object(a.useState)(!1),k=Object(A.a)(T,2),L=k[0],P=k[1];Object(a.useEffect)((function(){c?(P(0===c.length),g?(b(!1),N(c)):N(c.filter((function(e){return e.name.toLowerCase().includes(p.toLowerCase())})))):N([])}),[g,p,c]),Object(a.useEffect)((function(){"apiError"===i&&b(!1)}),[i]);return r.a.createElement("div",null,r.a.createElement(j.a,{name:"search-input",onChange:function(e){var t=e.target.value;d(t),t.length>2&&!c?(b(!0),u(s(t))):t.length<=2&&(b(!1),u(m()))}}),c?r.a.createElement(I.a,{container:!0,spacing:3},R.map((function(e){var n=e.name,a=e.key;return r.a.createElement(I.a,{onClick:function(){return t({key:a,name:n})},key:n,item:!0,xs:3},r.a.createElement(w.a,{style:{background:"#DDA0DD"},fullWidth:!0},n))})),L?r.a.createElement(y,{span:"there is no city match "}):r.a.createElement(I.a,{style:{background:"#ff0000"},item:!0,xs:10},r.a.createElement(w.a,{onClick:function(){return u(s(p))}}," Isn't what you search for ? "))):r.a.createElement(C.a,null,r.a.createElement(S.a,null," type 3 letters for auto-complete ")),g&&r.a.createElement("img",{alt:"loading",src:n(85),height:"150",width:"150"}))}var N=n(113);function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(n,!0).forEach((function(t){Object(N.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var L=function(e){return function(t,n){t({type:"ADD_FAVORITE_LOCALLY",city:k({},e,{created:new Date})})}},P=function(e){return function(t,n){t({type:"REMOVE_FAVORITE_LOCALLY",name:e})}},F=function(e){return function(t,n){t({type:"UNIT",unit:e})}},x=function(e){return function(t,n){t({type:"FB_FAVORITES",cities:e})}},B=function(e){return function(t,n,a){(0,a.getFirestore)().collection(e.uid).doc(e.currentForecast.name).set({location:e.currentForecast,created:new Date}),t(L(e.currentForecast))}},D=function(e){var t=e.uid,n=e.name;return function(e,a,r){(0,r.getFirestore)().collection(t).doc(n).delete(),e(P(n))}},J=function(e){return function(t,n,a){(0,a.getFirestore)().collection("users").doc(e.uid).update({unit:e.unit}),t(F(e.unit))}},M=n(114),W=n.n(M),U=n(470);function V(e){var t=e.currentForecast,c=t.key,i=t.name,u=Object(o.b)(),l=Object(o.c)((function(e){return e.firebase.auth.uid})),s=Object(o.c)((function(e){return e.favorites.cities})),m=Object(a.useState)(!1),f=Object(A.a)(m,2),p=f[0],d=f[1];Object(a.useEffect)((function(){if(s){var e=s.map((function(e){return e.name}));d(e.includes(i))}}),[s,c,i]);return r.a.createElement(I.a,{item:!0,xs:12,container:!0,direction:"row",justify:"space-between",spacing:2},r.a.createElement(I.a,{container:!0,item:!0,xs:7,justify:"flex-start"},r.a.createElement(I.a,{item:!0,xs:2},p?r.a.createElement(w.a,{onClick:function(){u(l?D({name:i,uid:l}):P(i))}},r.a.createElement("img",{alt:"star",height:50,widtg:50,src:n(278)})):r.a.createElement(w.a,{id:"hollowstar",onClick:function(){u(l?B({currentForecast:t,uid:l}):L(t))}},r.a.createElement("img",{alt:"hollowstar",height:40,widtg:40,src:n(279)}))),r.a.createElement(I.a,{item:!0,xs:8},r.a.createElement(U.a,{variant:"h3"},i))),r.a.createElement(I.a,{item:!0,xs:4},r.a.createElement(W.a,{style:{marginLeft:"10%"},format:"HH:mm DD/MM/YYYY"},new Date)))}function _(e){var t=e.currentForecast,n=Object(o.c)((function(e){return e.favorites.unit}));return r.a.createElement("div",null,r.a.createElement(I.a,{className:"my-center",item:!0,xs:12,container:!0,direction:"row",spacing:1},r.a.createElement(I.a,{item:!0,xs:8},r.a.createElement(U.a,{variant:"h3"},"Sky condition: ",t.forecast.text))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(I.a,{className:"my-center",item:!0,xs:12},r.a.createElement(U.a,{variant:"h1"},t.forecast[n]+"\xb0")))}var Q=n(517);function Y(){var e=Object(o.c)((function(e){return e.favorites.unit})),t=Object(o.c)((function(e){return e.api.daysForecast})),n=Object(a.useState)([]),c=Object(A.a)(n,2),i=c[0],u=c[1];Object(a.useEffect)((function(){t&&u(t)}),[t]);var l=function(e){return Math.floor((e-32)/1.8)},s=["#fe6b40","#ff8829","#ffb366","#a5c90f","#6f9c3d"],m=function(t){var n=t.minTemp,a=t.maxTemp,c=n.toString(),i=a.toString();return"metric"===e&&(c=l(c).toString(),i=l(i).toString()),r.a.createElement(I.a,{item:!0,xs:12},r.a.createElement(U.a,{variant:"h4",style:{align:"center",flexGrow:1}},c,"\xb0-",i,"\xb0"))};return r.a.createElement("div",null,i.length>0&&r.a.createElement(I.a,{item:!0,xs:12,container:!0,direction:"row",spacing:3,justify:"space-between"},i.map((function(e,t){return r.a.createElement(I.a,{key:t,item:!0,xs:2,container:!0,direction:"row",spacing:2,justify:"space-between"},r.a.createElement(Q.a,{style:{background:s[t]}},r.a.createElement(I.a,{item:!0,xs:6},r.a.createElement(m,{minTemp:e.temp.Minimum.Value,maxTemp:e.temp.Maximum.Value})),r.a.createElement(I.a,{item:!0,xs:4},r.a.createElement(W.a,{style:{marginLeft:"10%"},format:"DD/MM/YYYY"},e.date))))}))))}function q(){var e=Object(o.c)((function(e){return e.api.currentForecast}));return r.a.createElement(Q.a,{style:{background:"#fffdd0",marginLeft:"7%"},width:"86%"},e&&r.a.createElement(I.a,{container:!0,direction:"column",spacing:7,justify:"space-between",alignItems:"stretch"},r.a.createElement(V,{currentForecast:e}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(_,{currentForecast:e}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(Y,null)))}var G=Object(l.f)((function(e){var t=Object(o.c)((function(e){return e.api.daysForecast})),c=Object(o.c)((function(e){return e.modal})),i=Object(o.b)(),u=Object(a.useState)(!1),l=Object(A.a)(u,2),s=l[0],m=l[1];Object(a.useEffect)((function(){i(v());var t=e.location.state;t&&t.currentCity?i(d(t.currentCity)):f({key:"215854",name:"Tel Aviv"})}),[]),Object(a.useEffect)((function(){"apiError"===c&&m(!1)}),[c]),t&&s&&m(!1);var f=function(e){i(v()),m(!0),document.getElementsByName("search-input")[0].value="",i(h(e)),i(p(e.key))};return r.a.createElement(I.a,{container:!0,direction:"column",spacing:6,justify:"space-between",alignItems:"stretch"},r.a.createElement(I.a,{className:"my-center",item:!0,xs:12},r.a.createElement(R,{handleSubmit:f})),s&&r.a.createElement("img",{alt:"loading",src:n(85)}),t&&r.a.createElement(I.a,{item:!0,xs:12},r.a.createElement(q,null)))})),z=n(505);function H(e){var t=e.name,a=Object(o.c)((function(e){return e.favorites.cities})),c=Object(o.c)((function(e){return e.firebase.auth.uid})),i=Object(o.b)(),l=a.filter((function(e){return e.name===t}));return r.a.createElement(z.a,null,r.a.createElement(w.a,{onClick:function(){return i(v())}},r.a.createElement(u.b,{to:{pathname:"/",state:{currentCity:l}}},r.a.createElement("img",{alt:"reload",src:n(281),height:60,width:60}))),r.a.createElement(w.a,{onClick:function(){i(c?D({name:t,uid:c}):P(t))}},r.a.createElement("img",{alt:"delete",src:n(282),height:60,width:60})))}var K=n(506),X=n(507),Z=n(508),$=n(245),ee=Object($.a)((function(e){return{root:{display:"flex",flexWrap:"wrap",justifyContent:"space-between",alignItems:"stretch",overflow:"hidden"},gridList:{width:"100%",spacing:3,flexWrap:"nowrap",transform:"translateZ(0)"},title:{color:e.palette.primary.light},titleBar:{background:"linear-gradient(to top, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0.3) 70%, rgba(0,0,0,0) 100%)"}}}));function te(){var e=Object(o.c)((function(e){return e.favorites})),t=Object(o.b)();Object(a.useEffect)((function(){e.cities.map((function(e){var n=e.key,a=e.name;t(g({key:n,name:a}))}))}),[]);var c=ee();return r.a.createElement(Q.a,{width:"100%",mt:"7%"},0===e.cities.length?r.a.createElement(U.a,{className:"my-center",variant:"h3"},"You have not saved any location yet."):r.a.createElement("div",{className:c.root},r.a.createElement(K.a,{className:c.gridList,cols:2.5},e.cities.map((function(t){var a=t.key,i=t.name,o=t.forecast;return r.a.createElement(X.a,{key:i},r.a.createElement("img",{src:n(283),height:280,width:400,alt:i}),r.a.createElement(Z.a,{title:"".concat(i," - ").concat(o[e.unit],"\xb0"),actionIcon:r.a.createElement(H,{cityKey:a,name:i,className:c.title})}))})))))}var ne=n(246);var ae=Object(l.f)((function(e){var t=Object(ne.usePosition)(),n=t.latitude,c=t.longitude,i=Object(o.c)((function(e){return e.firebase.profile.firstName})),l=Object(o.b)(),s=Object(a.useState)("My"),m=Object(A.a)(s,2),f=m[0],p=m[1];Object(a.useEffect)((function(){p(i?"".concat(i,"'s"):"My")}),[i]);var d=e.location.pathname;return r.a.createElement("div",null," ","/"===d?r.a.createElement("div",null,r.a.createElement(u.b,{to:"favorite"}," ",r.a.createElement(w.a,{style:{color:"white"}}," ",f," favorites ")," "),r.a.createElement(w.a,{onClick:function(){n?l(b("".concat(n,",").concat(c))):alert("unable to get user coordinates")},style:{color:"white"}}," ",f," Location Forecast ")):r.a.createElement(u.b,{to:"/"},"  ",r.a.createElement(w.a,null," Main Page ")," "))})),re=function(){return function(e,t){e({type:"CLEAR_MODAL"})}},ce=function(e){return function(t,n,a){(0,a.getFirebase)().auth().signInWithEmailAndPassword(e.email,e.password).then((function(){t({type:"AUTH_ERROR_CLEARED"})})).catch((function(e){t({type:"AUTH_ERR",err:e})}))}},ie=function(e){return function(t,n,a){var r=a.getFirebase,c=a.getFirestore,i=r(),o=c();i.auth().createUserWithEmailAndPassword(e.email,e.password).then((function(t){return o.collection("users").doc(t.user.uid).set({firstName:e.firstName,lastName:e.lastName,email:e.email,unit:"metric"})})).then((function(){t({type:"AUTH_ERROR_CLEARED"})})).catch((function(e){t({type:"AUTH_ERR",err:e})}))}},oe=function(){return function(e,t){e({type:"AUTH_ERROR_CLEARED"})}},ue=n(520),le=n(253),Ae=n(509),se=n(247),me=n.n(se),fe=function(e){var t=e.dispatch,n=e.setAnchorMenu;return r.a.createElement(ue.a,{onClick:function(){t((function(e,t,n){(0,n.getFirebase)().auth().signOut().then((function(){e({type:"SIGNOUT_SUCCESS"})}))})),n(null)}},"Sign Out")},pe=function(e){var t=e.dispatch,n=e.setAnchorMenu;return r.a.createElement("div",null,r.a.createElement(ue.a,{onClick:function(){t((function(e,t){e({type:"REGISTER_MODAL"})})),t(oe()),n(null)}},"Register"),r.a.createElement(ue.a,{onClick:function(){t((function(e,t){e({type:"SIGNIN_MODAL"})}),oe()),n(null)}},"Sign In"))};function de(e){var t=e.handleClick,a=e.anchorMenu,c=e.setAnchorMenu,i=e.toggleValue,u=e.handleToggle,l=Object(o.c)((function(e){return e.firebase.auth.uid})),A=Object(o.b)();return r.a.createElement("div",null,r.a.createElement(w.a,{align:"right","aria-controls":"nav-menu","aria-haspopup":"true",onClick:t},r.a.createElement("img",{alt:"settings",height:40,width:40,src:n(284)})),r.a.createElement(le.a,{id:"nav-menu",anchorEl:a,keepMounted:!0,open:Boolean(a),onClose:t},l?r.a.createElement(fe,{dispatch:A,setAnchorMenu:c}):r.a.createElement(pe,{dispatch:A,setAnchorMenu:c}),r.a.createElement(Ae.a,null),r.a.createElement(ue.a,null,r.a.createElement(me.a,{inactiveLabel:"C\xb0",activeLabel:"F\xb0",value:i,colors:{activeThumb:{base:"rgb(250,250,250)"},inactiveThumb:{base:"rgb(62,130,247)"}},onToggle:u}))))}function Ee(){var e=Object(o.c)((function(e){return e.firebase.auth.uid})),t=Object(o.c)((function(e){return e.favorites.unit})),n=Object(o.b)(),c=Object(a.useState)(!1),i=Object(A.a)(c,2),u=i[0],l=i[1],s=Object(a.useState)(null),m=Object(A.a)(s,2),f=m[0],p=m[1];Object(a.useEffect)((function(){l("imperial"===t)}),[t]);var d=function(t){n(e?J({uid:e,unit:t}):F(t))};return r.a.createElement(de,{handleClick:function(e){f?p(null):(e.preventDefault(),p(e.currentTarget))},anchorMenu:f,setAnchorMenu:p,toggleValue:u,handleToggle:function(){d(u?"metric":"imperial")}})}var he=n(510),ge=n(511);function be(){return r.a.createElement(he.a,{style:{background:"#2E3B55"},position:"sticky"},r.a.createElement(ge.a,null,r.a.createElement(I.a,{container:!0,justify:"space-between"},r.a.createElement(I.a,{item:!0,xs:7},r.a.createElement(U.a,{variant:"h5",align:"left"},"For Forecast")),r.a.createElement(ae,null),r.a.createElement(Ee,null))))}var ve=n(248),Oe=n(249),ye=n(254),je=n(250),Ce=n(255),Se=(n(285),document.getElementById("modal-root")),Ie=function(e){function t(e){var n;return Object(ve.a)(this,t),(n=Object(ye.a)(this,Object(je.a)(t).call(this,e))).handleClick=function(e){n.modalNode.contains(e.target)||n.props.dispatch(re())},n.el=document.createElement("div"),n}return Object(Ce.a)(t,e),Object(Oe.a)(t,[{key:"componentDidMount",value:function(){Se.appendChild(this.el),document.addEventListener("mousedown",this.handleClick,!1)}},{key:"componentWillUnmount",value:function(){Se.removeChild(this.el),document.removeEventListener("mousedown",this.handleClick,!1)}},{key:"render",value:function(){var e=this;return i.a.createPortal(r.a.createElement("div",{ref:function(t){return e.modalNode=t}},this.props.children),this.el)}}]),t}(r.a.Component),we=Object($.a)((function(e){return{"@global":{body:{backgroundColor:e.palette.common.white}},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},card:{minWidth:400},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),Re=function(e){var t=e.Typography,n=e.Link;return r.a.createElement(t,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(n,{color:"inherit",href:"http://hagaiharari.tk/"},"Hagai Harari")," ",(new Date).getFullYear(),".")},Ne=n(512),Te=n(513),ke=n(514),Le=n(515),Pe=n(516);function Fe(e){var t=e.setEmail,n=e.setPassword,a=e.span,c=e.onSubmitSignIn,i=we();return r.a.createElement("div",{className:"my-center"},r.a.createElement(Ne.a,{className:i.card,style:{background:"#2E3B55"}},r.a.createElement(Te.a,null,r.a.createElement(ke.a,{component:"main",maxWidth:"xs"},r.a.createElement(Le.a,null),r.a.createElement("div",{className:i.paper},r.a.createElement(U.a,{component:"h1",variant:"h5"},"Sign in"),r.a.createElement("form",{className:i.form,noValidate:!0},r.a.createElement(j.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",onChange:function(e){return t(e.target.value)},autoComplete:"off"}),r.a.createElement(j.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",onChange:function(e){return n(e.target.value)}}),r.a.createElement(w.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:i.submit,onClick:c},"Sign In")),a&&r.a.createElement(y,{content:a})),r.a.createElement(Q.a,{mt:8},r.a.createElement(Re,{Typography:U.a,Link:Pe.a}))))))}var xe=function(){var e=Object(o.c)((function(e){return e.firebase.auth.uid})),t=Object(o.c)((function(e){return e.authError})),c=Object(o.b)(),i=Object(a.useState)(""),u=Object(A.a)(i,2),l=u[0],s=u[1],m=Object(a.useState)(""),f=Object(A.a)(m,2),p=f[0],d=f[1],E=Object(a.useState)(null),h=Object(A.a)(E,2),g=h[0],b=h[1];return e&&c(re()),t&&g!==t&&b(t),r.a.createElement(Fe,{setEmail:s,setPassword:d,span:g,onSubmitSignIn:function(e){e.preventDefault(),c(oe()),b(r.a.createElement("img",{alt:"loading",src:n(85)})),c(ce({email:l,password:p}))}})};function Be(e){var t=e.setFirstName,n=e.setLastName,a=e.setEmail,c=e.setPassword,i=e.span,o=e.onSubmitRegister,u=we();return r.a.createElement("div",{className:"my-center"},r.a.createElement(Ne.a,{className:u.card,style:{background:"#2E3B55"}},r.a.createElement(Te.a,null,r.a.createElement(ke.a,{component:"main",maxWidth:"xs"},r.a.createElement(Le.a,null),r.a.createElement("div",{className:u.paper},r.a.createElement(U.a,{component:"h1",variant:"h5"},"Register"),r.a.createElement("form",{className:u.form,noValidate:!0},r.a.createElement(I.a,{container:!0,spacing:2},r.a.createElement(I.a,{item:!0,xs:12,sm:6},r.a.createElement(j.a,{autoComplete:"off",name:"firstName",variant:"outlined",required:!0,fullWidth:!0,id:"firstName",label:"First Name",autoFocus:!0,onChange:function(e){return t(e.target.value)}})),r.a.createElement(I.a,{item:!0,xs:12,sm:6},r.a.createElement(j.a,{variant:"outlined",fullWidth:!0,id:"lastName",label:"Last Name",name:"lastName",autoComplete:"off",onChange:function(e){return n(e.target.value)}})),r.a.createElement(I.a,{item:!0,xs:12},r.a.createElement(j.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"off",onChange:function(e){return a(e.target.value)}})),r.a.createElement(I.a,{item:!0,xs:12},r.a.createElement(j.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",onChange:function(e){return c(e.target.value)}}))),r.a.createElement(w.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:u.submit,onClick:o},"Register"),i&&r.a.createElement(y,{content:i}))),r.a.createElement(Q.a,{mt:5},r.a.createElement(Re,{Typography:U.a,Link:Pe.a}))))))}var De=function(){var e=Object(o.c)((function(e){return e.firebase.auth.uid})),t=Object(o.c)((function(e){return e.authError})),c=Object(o.b)(),i=Object(a.useState)(""),u=Object(A.a)(i,2),l=u[0],s=u[1],m=Object(a.useState)(""),f=Object(A.a)(m,2),p=f[0],d=f[1],E=Object(a.useState)(""),h=Object(A.a)(E,2),g=h[0],b=h[1],v=Object(a.useState)(""),O=Object(A.a)(v,2),y=O[0],j=O[1],C=Object(a.useState)(null),S=Object(A.a)(C,2),I=S[0],w=S[1];return e&&c(re()),t&&I!==t&&w(t),r.a.createElement(Be,{setEmail:s,setPassword:d,setFirstName:b,setLastName:j,span:I,onSubmitRegister:function(e){if(e.preventDefault(),c(oe()),g.length<1)return w("First name is required for registeration");w(r.a.createElement("img",{alt:"loading",src:n(85)})),c(ie({email:l,password:p,firstName:g,lastName:y}))}})};function Je(){return r.a.createElement(Q.a,{className:"my-center",style:{background:"#2E3B55",minWidth:"4000"}},r.a.createElement(I.a,{container:!0,direction:"column"},r.a.createElement(I.a,{item:!0,xs:12},r.a.createElement(U.a,{variant:"h3"},"OOOPPPPSSS,"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(U.a,{variant:"h6"},"the app reached it 50 calls per day")),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(I.a,{item:!0,xs:12},r.a.createElement(U.a,{variant:"h5"},"You can always try again tomorrow :)"))))}var Me=n(157),We=n.n(Me);n(286),n(289),n(468);We.a.initializeApp({apiKey:"AIzaSyB2kXfTiyNW9tUJtR30SMYKHuHSoaUKtts",authDomain:"herolo-966ed.firebaseapp.com",databaseURL:"https://herolo-966ed.firebaseio.com",projectId:"herolo-966ed",storageBucket:"herolo-966ed.appspot.com",messagingSenderId:"861935192137",appId:"1:861935192137:web:f8547810c7e110a53b9798",measurementId:"G-7NT73ZC5KW"});var Ue=We.a;function Ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function _e(e){var t=e.uid,n=Object(o.b)();return Object(a.useEffect)((function(){var e=Ue.firestore().collection("users").doc(t).onSnapshot((function(e){n(F(e.data().unit))}));return function(){return e()}}),[]),Object(a.useEffect)((function(){var e=Ue.firestore().collection(t).onSnapshot((function(e){var t=e.docs.map((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ve(n,!0).forEach((function(t){Object(N.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ve(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.data().location,{created:e.data().created})}));n(x(t))}));return function(){return e()}}),[]),null}var Qe=n(251),Ye=n.n(Qe),qe={particles:{number:{value:350},size:{value:500,random:!0,anim:{speed:15,size_min:2.5}}}};function Ge(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.firebase.auth.uid})),n=Object(o.c)((function(e){return e.modal}));return r.a.createElement(u.a,null,r.a.createElement(Ye.a,{className:"particles",param:qe}),r.a.createElement(be,null),r.a.createElement(l.c,null,r.a.createElement(l.a,{exact:!0,path:"/",component:G}),r.a.createElement(l.a,{exact:!0,path:"/favorite",component:te})),n&&r.a.createElement(Ie,{dispatch:e},"register"===n&&r.a.createElement(De,null),"signIn"===n&&r.a.createElement(xe,null),"apiError"===n&&r.a.createElement(Je,null)),t&&r.a.createElement(_e,{uid:t}))}var ze=n(29),He=n(252),Ke={modal:null,authError:null,api:{autoComplete:null,currentForecast:{imperial:0,metric:0,text:null},daysForecast:null},favorites:{cities:[],unit:"metric"}},Xe=Object(ze.c)({autoComplete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke.api.autoComplete,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"API_AUTOCOMPLETE":return t.locations;case"API_CLEAN":case"API_CLEAN_AUTOCOMPLETE":return null;default:return e}},currentForecast:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke.api.currentForecast,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"API_GEO_CALL":case"API_DAYS_FAVORITES_CURENNT":case"API_CURRENT_FORECAST":return t.data;case"API_CLEAN":return null;default:return e}},daysForecast:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke.api.daysForecast,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"API_DAYS_FORECAST":case"API_DAYS_FAVORITES_CURENNT":return t.days;case"API_CLEAN":return null;default:return e}}}),Ze=n(84),$e=n(159),et=Object(ze.c)({cities:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke.favorites.cities,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"ADD_FAVORITE_LOCALLY":return[].concat(Object($e.a)(t),[n.city]);case"REMOVE_FAVORITE_LOCALLY":e=t.slice();for(var a=0;a<e.length;a++)e[a].name===n.name&&e.splice(a,1);return e;case"FAVORITES_API_CALL":e=t.slice();for(var r=0;r<e.length;r++)e[r].name===n.name&&(e[r].forecast=n.forecast.Temperature);return e;case"FB_FAVORITES":return Object($e.a)(n.cities);case"SIGNOUT_SUCCESS":return[];default:return t}},unit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke.favorites.unit,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UNIT":return t.unit;case"SIGNOUT_SUCCESS":return"metric";default:return e}}}),tt=Object(ze.c)({api:Xe,firebase:Ze.firebaseReducer,authError:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke.authError,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH_ERROR_CLEARED":return null;case"AUTH_ERR":return t.err.message;default:return e}},modal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke.modal,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SIGNIN_MODAL":return"signIn";case"REGISTER_MODAL":return"register";case"API_ERR":return"apiError";case"CLEAR_MODAL":return null;default:return e}},favorites:et}),nt=n(158),at=Object(ze.e)(tt,Object(ze.d)(Object(ze.a)(He.a.withExtraArgument({getFirebase:Ze.getFirebase,getFirestore:nt.getFirestore})),Object(Ze.reactReduxFirebase)(Ue,{userProfile:"users",useFirestoreForProfile:!0,attachAuthIsReady:!0}),Object(nt.reduxFirestore)(Ue)));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));at.firebaseAuthIsReady.then((function(){i.a.render(r.a.createElement(o.a,{store:at},r.a.createElement(Ge,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}))},85:function(e,t,n){e.exports=n.p+"static/media/loading.e7aa2d00.svg"}},[[267,1,2]]]);
//# sourceMappingURL=main.2a069a85.chunk.js.map