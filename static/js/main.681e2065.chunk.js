(this.webpackJsonpherolo=this.webpackJsonpherolo||[]).push([[0],{266:function(e,t,a){e.exports=a(466)},271:function(e,t,a){},277:function(e,t,a){e.exports=a.p+"static/media/star.b52cd51a.png"},278:function(e,t,a){e.exports=a.p+"static/media/emptystar.daf49cf1.png"},280:function(e,t,a){e.exports=a.p+"static/media/reload.5286b241.png"},281:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAYAAABccqhmAAAACXBIWXMAAA7EAAAOxAGVKw4bAAALVklEQVR42u3dW2wc5R2G8feb3VnvyYfEsWOHxOSgNBEJSNACFYoqkFq1oFxUwF2lCrhAammlNihRb3rT9iZJAxWnCoRoVbU3LT1JUIqKUFUJASqBJg0oDrGdAzh2lLU39npnvTszXy8chyh1SxJ2vId5fhIStpXR58l/np2ZdTwSAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgGVl2AWNNfLwwy/G+fvf9Nxz9zMFjZNkFzQ6weY+dgIIAAACAIAAAFiOK9BmX+DJ3buHrLRNxnRLclpq8Uuw1krWLn6g0PN+E+cBdDKZbyz8ZRrJGBnTmvel7SUzaaVQ0nkjvX/9vn2nCMDVHvR79qyS9Ig15pvGmI10Gq3KWjtqwvBX1pin1u/bVyAAn+LE7t0PGcc5IGN6GB+0UQiKNgx3b9i//3kCsNSBv2ePkfSUcZxvMy5o2xAEwdOSvrt+/37bDOtpppuAezn40e5MIvGIDQJP0m7OAC4Ye/TRrzmu+xfxk4mIyYlAWKvdveHAgVdjH4ATu3Y5SiY/MI6z5dLPh9WqglJJoefJ1mpSGDI2aB2OI+O6cjIZJfJ5OanU5fcEjtpyeduGJ59s6GA3/BLASjudSw5+6/uqFQoK5+YYIrSuMJSdn1cwP6+gWJSTy8nt7ZVJLhxyxpit1nXvkfRSrAPgJJP3Lv5/4HmqTU7yao/268HcnOY9T+7q1UpkMouzf1/sAyDpjosH/8TEJz8kA7ThWUFtYkIaGFAik5G9MPvxvgQwZq18f+GVn4Mf7c5a1SYn5axdKyWTa2MfAEnpWqHAaT/idSZQKMjt789wBlCrGW74IY73BGytZmIfgKBUYhoQS80w+w0PQOh5TALieRZQqRAAW6sxCYglW60SAG7+Ib6nACEBAEAAABAAAAQAAAEAQAAAEAAABAAAAQBAAAAQAAAEAAABAEAAABAAAE0bACtZwyPBEENWsgTA2rIxJsc4IHYBsHYu9gHwfP90znW3Mg6Im7Lvn459AN6fnj5yW38/AUDsHJmePhL7ALzy0Uev3dbffz/jgLh59fTp12IfgN+Njh78/vbtw12p1BZGAnFRrFaP/nZs7N3YB6AWhsHeQ4d++pNbb33WSA6jgXZnpXDvoUMH/DAMYh8ASf6LY2PvfWlg4Nmvrlv3LcYD7e6V06d//oexsfck+Y1eSzO8/75JUo9jjJ7ZseM7dw0OPsCIoF29Pj7+i0feeOPpcOFJ2EVJI7EOwOpMZtWk512/+PGu7du//NDWrXtcx1nJuKBd1MJw6vmjR/f97MiRizf+1mSzJ8fL5XOxDkB/Op04W6ncKCmx+LkNnZ25B7dsuXfn0NA9uWRyM+ODVjXn+8deOnnylReOHfv9idnZ8qWXvmuy2SPj5XIQ6wBIkus4q2thuHapr31h1aqezd3dQ+lEomupm4R3Dw4+xpihYdfzZ87suvxzVgorQTDz4fnzp945d6641J9LOc5H1TCcbPT6m+IfA9UWdkSPpPzlX3vn3Lni/9qJkvT57m6mEA3zwrFj/7iGP1bKJBJnqzwb8BOONBJKn5OUYazQxrykMSPnazXbDItpmgCEC2+JDEtaf+FsAGg3RUknfGuDZllQs/0+gEALb4v0SBqUlGVm0AbKks5cCEBTadZfCFK88F9GUqektBbeJfivm5b5JL/TBA01vcTn7IUXs4qkWUlesy6+2Y8e79N23mCGWwZoqNFWXjwvn0CMEQCAAAAgAAAIAAACAIAAACAAAAgAAAIAgAAAIAAACAAAAgCAAAAgAAAIAAACAIAAACAAAAhAK7HWatzzdKpc1kytpsBe+fMdUo6j3o4Obcrn1eW6ka+1FoYaLZU0Uamo7Pu60pUaSdlkUgPptDbm83IdJ/K1ztRqGimVVJif19U8MSdhjLpcV0PZrNZkMjLGMKQEILqD/1/T0zpTqVzTn6+Goc54niY8Tzf19Oi6bHSPPSj7vt4uFOQFV/8MCitpzvc1Uipp3PN0e2+vshH++vWPy2UdLhZ1LY/KCazVdLWq6WpVk5WKbl6xgggQgGgcL5Wu+eC//AA7XCyq03UjOROw1urg1NQ1HfyX84JAB6emtKOvL5IDa6ZWu+aD/3ITlYqOl0ra3NnJsBKA+gqs1WipVL+DVNJIqaSbV6yo+1onKxXN+n7dtjfr+5qsVDQQwTMYRmZnVc+H5I2WStqYzyvBWQABqKditXpV1/tXojA/H8laC9VqJNuMIgD1Xmtgrc5Xq1rZ0cHQEoD6ieJRzlE9HroaBC2xzaj2wXwTPHabAKBhbItsEwQAAAEAQAAAEAAABAAAAQBAAAAQAAAEAAABAEAAABAAAAQAAAEAQAAAEAAABAAAAQBAAAACAIAAACAAAAgAAAIAgAAAIAAACAAAAgCAAAAgAAAIAAACAIAAACAAAAgAAAIAgAAAIAAACAAAAgCAAAAgAAAIAAACAIAAACAAAAgAAAIAgAAAIAAACAAAAgCAAAAgAAAIAAACABAAAAQAAAEAQAAAEAAABAAAAQBAAAAQAAAEAAABAEAAABAAAAQAAAEAQAAAEAAABAAAAQBAAAAQAAAEAAABAEAAABAAAAQAAAEAQAAAEAAABAAAAQBAAAAQAAAEAAABAEAAABAAgAAAIAD4P0yLbFOSHGNaYpuL+8C2yH4lADGWTSZbYpuSlE0kWmKbi/tgzvdbYr8SgBjrdF3l6jysg+l0JGsdyGR0vFSq+zajMJhO13WtuWRSna7LwBKA+p9W3tDVpX9OTdXtFXVDPh/JWrtcV0PZrE6Vy3XZ3lA2q66IDqoN+bw+9jx5QVCX7W3r6uISgABEoy+d1s0rVujfxaJ8e+1Xrl3JpG5ZuVKu40S21hu6uyXpM0dgKJu9uK0ouI6j23t7dXBqSrOf4ewqaYxu7OnRqojOqggAFk5ZMxn1dnRo3PM0U61ecQiMpFQiod5USqvTaRkT7euUY4y29/RoKJfThOepHAQKr3CtjjHKJhIayGQie+W//Jp9R1+fJisVFapVVYPgim8MJo1RVyqlNZmMUhEGlQDgopTjaH0uJ+VyTb/WLtddloP4M19iGaOBTCayew0gAAAIAAACAIAAAAQAAAEAQAAAEAAABAAAAQBAAAAQAAAEAAABAEAAGsJaGxhjEvxVYtlnTwoIQIOF0kxCWsE4YrkF1p4nAA025/tjXa5LALDsyr4/RgAa7N1i8fCdfX23MI5YbgcLhcMEoMHeOnv2r3f29T3AOGK5vVkovEoAGuz1ycnjD23a9FZ/Ov1FRhLLZaJSefPvk5MfEoDGC58cHn7sRzfd9GtjTIrRRNSstdVnhocflxQSgMarvl0ojL48Pr5353XX/ZDxRNReHh/f91ahMCqpRgAab05S+onh4T9nE4n8XQMD3zM8HxJRvPJL9vWJicefGB7+kyR1ue7cTK21G9DyB0pvKrWiUK1uXPz4vnXr7nhw06YfpBxnDSOLup1mhuHZX46O/vjFU6feXPxcf0fHyNn5+SIBaKA1mYwZ97ztki5e/69Op9P3r1v39a8MDu7MJpNbxBkBrvFFv+z7w387c+alF0+f/uNkpTJ/aRPW53JHTszNWQLQYJlEotcLgvVLfW1bd3f3xnz++pTjdBqJHxnGlZzqB9UwnBkplU59cP78kj/tl08mT5R8v9Dq32vbvDI6xmwKre1hfBG1hDHFwNqRdvhe2icAkhNKmyXlGVFEqJQw5sPA2pAANGUHNCSplzlFBAqSTqkN3v9v1wAs6pK0RlKOmUUdzEkalzTTbt9Yu98dT0vqlJTRwg1A3g3AlbBa+Lf+nqRZSRV2CQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIC6+A+qzHlz61pqJAAAAABJRU5ErkJggg=="},282:function(e,t,a){e.exports=a.p+"static/media/flower.fa9ff991.png"},283:function(e,t,a){e.exports=a.p+"static/media/settings.d6422701.png"},284:function(e,t,a){},466:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(10),i=a.n(c),o=(a(271),a(6)),u=a(42),l=a(47),A=a(12),s=function(e){var t=[],a=[];return function(n,r){fetch("https://lit-coast-96056.herokuapp.com/autocomplete",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({input:e})}).then((function(e){return e.json()})).then((function(e){JSON.parse(e).filter((function(e){t.includes(e.LocalizedName)||a.push({name:e.LocalizedName,key:e.Key}),t.push(e.LocalizedName)}))})).then((function(){return n({type:"API_AUTOCOMPLETE",locations:a})})).catch((function(e){return n({type:"API_ERR",err:e})}))}},m=function(){return function(e,t){e({type:"API_CLEAN_AUTOCOMPLETE"})}},f=function(e){var t=[];return fetch("https://lit-coast-96056.herokuapp.com/get5daysforecast",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({key:e})}).then((function(e){return e.json()})).then((function(e){return JSON.parse(e).DailyForecasts.map((function(e){t.push({date:e.Date,temp:e.Temperature})})),t}))},d=function(e){return function(t,a){f(e).then((function(e){t({type:"API_DAYS_FORECAST",days:e})})).catch((function(e){return t({type:"API_ERR",err:e})}))}},p=function(e){return function(t,a){f(e[0].key).then((function(a){t({type:"API_DAYS_FAVORITES_CURENNT",days:a,data:e[0]})})).catch((function(e){return t({type:"API_ERR",err:e})}))}},E=function(e){return fetch("https://lit-coast-96056.herokuapp.com/getcurrentforecast",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({key:e})}).then((function(e){return e.json()})).then((function(e){var t=JSON.parse(e);return{imperial:t[0].Temperature.Imperial.Value,metric:t[0].Temperature.Metric.Value,text:t[0].WeatherText}}))},h=function(e){var t=e.key,a=e.name,n={};return n.name=a,n.key=t,function(e,a){E(t).then((function(e){return n.forecast=e})).then((function(){e({type:"API_CURRENT_FORECAST",data:n})})).catch((function(t){return e({type:"API_ERR",err:t})}))}},g=function(e){var t=e.key,a=e.name,n={};return n.name=a,function(e,a){E(t).then((function(e){return n.forecast=e})).then((function(){e({type:"FAVORITES_API_CALL",data:n})})).catch((function(t){return e({type:"API_ERR",err:t})}))}},b=function(){return function(e,t){e({type:"API_CLEAN"})}},v=a(255),O=function(e){var t=e.content,a=Object(v.a)(e,["content"]);return r.a.createElement("span",Object.assign({style:{color:"red"}},a),t)},y=a(517),j=a(518),C=a(502),S=a(503),I=a(468);function w(e){var t=e.handleSubmit,c=Object(o.c)((function(e){return e.api.autoComplete})),i=Object(o.c)((function(e){return e.modal})),u=Object(o.b)(),l=Object(n.useState)(""),f=Object(A.a)(l,2),d=f[0],p=f[1],E=Object(n.useState)(!1),h=Object(A.a)(E,2),g=h[0],b=h[1],v=Object(n.useState)([]),w=Object(A.a)(v,2),R=w[0],N=w[1],T=Object(n.useState)(!1),k=Object(A.a)(T,2),L=k[0],P=k[1];Object(n.useEffect)((function(){c?(P(0===c.length),g?(b(!1),N(c)):N(c.filter((function(e){return e.name.toLowerCase().includes(d.toLowerCase())})))):N([])}),[g,d,c]),Object(n.useEffect)((function(){"apiError"===i&&b(!1)}),[i]);return r.a.createElement("div",null,r.a.createElement(y.a,{name:"search-input",onChange:function(e){var t=e.target.value;p(t),t.length>2&&!c?(b(!0),u(s(t))):t.length<=2&&(b(!1),u(m()))}}),c?r.a.createElement(S.a,{container:!0,spacing:3},R.map((function(e){var a=e.name,n=e.key;return r.a.createElement(S.a,{onClick:function(){return t({key:n,name:a})},key:a,item:!0,xs:3},r.a.createElement(I.a,{style:{background:"#DDA0DD"},fullWidth:!0},a))})),L?r.a.createElement(O,{span:"there is no city match "}):r.a.createElement(S.a,{style:{background:"#ff0000"},item:!0,xs:10},r.a.createElement(I.a,{onClick:function(){return u(s(d))}}," Isn't what you search for ? "))):r.a.createElement(j.a,null,r.a.createElement(C.a,null," type 3 letters for auto-complete ")),g&&r.a.createElement("img",{alt:"loading",src:a(85),height:"150",width:"150"}))}var R=a(113);function N(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function T(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?N(a,!0).forEach((function(t){Object(R.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):N(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var k=function(e){return function(t,a){t({type:"ADD_FAVORITE_LOCALLY",city:T({},e,{created:new Date})})}},L=function(e){return function(t,a){t({type:"REMOVE_FAVORITE_LOCALLY",name:e})}},P=function(e){return function(t,a){t({type:"UNIT",unit:e})}},x=function(e){return function(t,a){t({type:"FB_FAVORITES",cities:e})}},F=function(e){return function(t,a,n){(0,n.getFirestore)().collection(e.uid).doc(e.currentForecast.name).set({location:e.currentForecast,created:new Date}),t(k(e.currentForecast))}},B=function(e){var t=e.uid,a=e.name;return function(e,n,r){(0,r.getFirestore)().collection(t).doc(a).delete(),e(L(a))}},D=function(e){return function(t,a,n){(0,n.getFirestore)().collection("users").doc(e.uid).update({unit:e.unit}),t(P(e.unit))}},J=a(114),M=a.n(J),W=a(469);function U(e){var t=e.currentForecast,c=t.key,i=t.name,u=Object(o.b)(),l=Object(o.c)((function(e){return e.firebase.auth.uid})),s=Object(o.c)((function(e){return e.favorites.cities})),m=Object(n.useState)(!1),f=Object(A.a)(m,2),d=f[0],p=f[1];Object(n.useEffect)((function(){if(s){var e=s.map((function(e){return e.name}));p(e.includes(i))}}),[s,c,i]);return r.a.createElement(S.a,{item:!0,xs:12,container:!0,direction:"row",justify:"space-between",spacing:2},r.a.createElement(S.a,{container:!0,item:!0,xs:7,justify:"flex-start"},r.a.createElement(S.a,{item:!0,xs:2},d?r.a.createElement(I.a,{onClick:function(){u(l?B({name:i,uid:l}):L(i))}},r.a.createElement("img",{alt:"star",height:50,widtg:50,src:a(277)})):r.a.createElement(I.a,{id:"hollowstar",onClick:function(){u(l?F({currentForecast:t,uid:l}):k(t))}},r.a.createElement("img",{alt:"hollowstar",height:40,widtg:40,src:a(278)}))),r.a.createElement(S.a,{item:!0,xs:8},r.a.createElement(W.a,{variant:"h3"},i))),r.a.createElement(S.a,{item:!0,xs:4},r.a.createElement(M.a,{style:{marginLeft:"10%"},format:"HH:mm DD/MM/YYYY"},new Date)))}function _(e){var t=e.currentForecast,a=Object(o.c)((function(e){return e.favorites.unit}));return r.a.createElement("div",null,r.a.createElement(S.a,{className:"my-center",item:!0,xs:12,container:!0,direction:"row",spacing:1},r.a.createElement(S.a,{item:!0,xs:8},r.a.createElement(W.a,{variant:"h3"},"Sky condition: ",t.forecast.text))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(S.a,{className:"my-center",item:!0,xs:12},r.a.createElement(W.a,{variant:"h1"},t.forecast[a]+"\xb0")))}var V=a(516);function Q(){var e=Object(o.c)((function(e){return e.favorites.unit})),t=Object(o.c)((function(e){return e.api.daysForecast})),a=Object(n.useState)([]),c=Object(A.a)(a,2),i=c[0],u=c[1];Object(n.useEffect)((function(){t&&u(t)}),[t]);var l=function(e){return Math.floor((e-32)/1.8)},s=["#fe6b40","#ff8829","#ffb366","#a5c90f","#6f9c3d"],m=function(t){var a=t.minTemp,n=t.maxTemp,c=a.toString(),i=n.toString();return"metric"===e&&(c=l(c).toString(),i=l(i).toString()),r.a.createElement(S.a,{item:!0,xs:12},r.a.createElement(W.a,{variant:"h4",style:{align:"center",flexGrow:1}},c,"\xb0-",i,"\xb0"))};return r.a.createElement("div",null,i.length>0&&r.a.createElement(S.a,{item:!0,xs:12,container:!0,direction:"row",spacing:3,justify:"space-between"},i.map((function(e,t){return r.a.createElement(S.a,{key:t,item:!0,xs:2,container:!0,direction:"row",spacing:2,justify:"space-between"},r.a.createElement(V.a,{style:{background:s[t]}},r.a.createElement(S.a,{item:!0,xs:6},r.a.createElement(m,{minTemp:e.temp.Minimum.Value,maxTemp:e.temp.Maximum.Value})),r.a.createElement(S.a,{item:!0,xs:4},r.a.createElement(M.a,{style:{marginLeft:"10%"},format:"DD/MM/YYYY"},e.date))))}))))}function H(){var e=Object(o.c)((function(e){return e.api.currentForecast}));return r.a.createElement(V.a,{style:{background:"#fffdd0",marginLeft:"7%"},width:"86%"},e&&r.a.createElement(S.a,{container:!0,direction:"column",spacing:7,justify:"space-between",alignItems:"stretch"},r.a.createElement(U,{currentForecast:e}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(_,{currentForecast:e}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(Q,null)))}var Y=Object(l.f)((function(e){var t=Object(o.c)((function(e){return e.api.daysForecast})),c=Object(o.c)((function(e){return e.modal})),i=Object(o.b)(),u=Object(n.useState)(!1),l=Object(A.a)(u,2),s=l[0],m=l[1];Object(n.useEffect)((function(){i(b());var t=e.location.state;t&&t.currentCity?i(p(t.currentCity)):f({key:"215854",name:"Tel Aviv"})}),[]),Object(n.useEffect)((function(){"apiError"===c&&m(!1)}),[c]),t&&s&&m(!1);var f=function(e){i(b()),m(!0),document.getElementsByName("search-input")[0].value="",i(h(e)),i(d(e.key))};return r.a.createElement(S.a,{container:!0,direction:"column",spacing:6,justify:"space-between",alignItems:"stretch"},r.a.createElement(S.a,{className:"my-center",item:!0,xs:12},r.a.createElement(w,{handleSubmit:f})),s&&r.a.createElement("img",{alt:"loading",src:a(85)}),t&&r.a.createElement(S.a,{item:!0,xs:12},r.a.createElement(H,null)))})),q=a(504);function G(e){var t=e.name,n=Object(o.c)((function(e){return e.favorites.cities})),c=Object(o.c)((function(e){return e.firebase.auth.uid})),i=Object(o.b)(),l=n.filter((function(e){return e.name===t}));return r.a.createElement(q.a,null,r.a.createElement(I.a,{onClick:function(){return i(b())}},r.a.createElement(u.b,{to:{pathname:"/",state:{currentCity:l}}},r.a.createElement("img",{alt:"reload",src:a(280),height:60,width:60}))),r.a.createElement(I.a,{onClick:function(){i(c?B({name:t,uid:c}):L(t))}},r.a.createElement("img",{alt:"delete",src:a(281),height:60,width:60})))}var z=a(505),K=a(506),X=a(507),Z=a(245),$=Object(Z.a)((function(e){return{root:{display:"flex",flexWrap:"wrap",justifyContent:"space-between",alignItems:"stretch",overflow:"hidden"},gridList:{width:"100%",spacing:3,flexWrap:"nowrap",transform:"translateZ(0)"},title:{color:e.palette.primary.light},titleBar:{background:"linear-gradient(to top, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0.3) 70%, rgba(0,0,0,0) 100%)"}}}));function ee(){var e=Object(o.c)((function(e){return e.favorites})),t=Object(o.b)();Object(n.useEffect)((function(){e.cities.map((function(e){var a=e.key,n=e.name;t(g({key:a,name:n}))}))}),[]);var c=$();return r.a.createElement(V.a,{width:"100%",mt:"7%"},0===e.cities.length?r.a.createElement(W.a,{className:"my-center",variant:"h3"},"You have not saved any location yet."):r.a.createElement("div",{className:c.root},r.a.createElement(z.a,{className:c.gridList,cols:2.5},e.cities.map((function(t){var n=t.key,i=t.name,o=t.forecast;return r.a.createElement(K.a,{key:i},r.a.createElement("img",{src:a(282),height:280,width:400,alt:i}),r.a.createElement(X.a,{title:"".concat(i," - ").concat(o[e.unit],"\xb0"),actionIcon:r.a.createElement(G,{cityKey:n,name:i,className:c.title})}))})))))}var te=Object(l.f)((function(e){var t=Object(o.c)((function(e){return e.firebase.profile.firstName})),a=(Object(o.b)(),Object(n.useState)("My")),c=Object(A.a)(a,2),i=c[0],l=c[1];Object(n.useEffect)((function(){l(t?"".concat(t,"'s"):"My")}),[t]);var s=e.location.pathname;return r.a.createElement("div",null," ",s==="".concat("/Hagai_Harari_17-11-2019","/")?r.a.createElement(u.b,{to:"/Hagai_Harari_17-11-2019/favorite"}," ",r.a.createElement(I.a,{style:{color:"white"}}," ",i," favorites ")," "):r.a.createElement(u.b,{to:"/Hagai_Harari_17-11-2019/"},"  ",r.a.createElement(I.a,null," Main Page ")," "))})),ae=function(){return function(e,t){e({type:"CLEAR_MODAL"})}},ne=function(e){return function(t,a,n){(0,n.getFirebase)().auth().signInWithEmailAndPassword(e.email,e.password).then((function(){t({type:"AUTH_ERROR_CLEARED"})})).catch((function(e){t({type:"AUTH_ERR",err:e})}))}},re=function(e){return function(t,a,n){var r=n.getFirebase,c=n.getFirestore,i=r(),o=c();i.auth().createUserWithEmailAndPassword(e.email,e.password).then((function(t){return o.collection("users").doc(t.user.uid).set({firstName:e.firstName,lastName:e.lastName,email:e.email,unit:"metric"})})).then((function(){t({type:"AUTH_ERROR_CLEARED"})})).catch((function(e){t({type:"AUTH_ERR",err:e})}))}},ce=function(){return function(e,t){e({type:"AUTH_ERROR_CLEARED"})}},ie=a(519),oe=a(252),ue=a(508),le=a(246),Ae=a.n(le),se=function(e){var t=e.dispatch,a=e.setAnchorMenu;return r.a.createElement(ie.a,{onClick:function(){t((function(e,t,a){(0,a.getFirebase)().auth().signOut().then((function(){e({type:"SIGNOUT_SUCCESS"})}))})),a(null)}},"Sign Out")},me=function(e){var t=e.dispatch,a=e.setAnchorMenu;return r.a.createElement("div",null,r.a.createElement(ie.a,{onClick:function(){t((function(e,t){e({type:"REGISTER_MODAL"})})),t(ce()),a(null)}},"Register"),r.a.createElement(ie.a,{onClick:function(){t((function(e,t){e({type:"SIGNIN_MODAL"})}),ce()),a(null)}},"Sign In"))};function fe(e){var t=e.handleClick,n=e.anchorMenu,c=e.setAnchorMenu,i=e.toggleValue,u=e.handleToggle,l=Object(o.c)((function(e){return e.firebase.auth.uid})),A=Object(o.b)();return r.a.createElement("div",null,r.a.createElement(I.a,{align:"right","aria-controls":"nav-menu","aria-haspopup":"true",onClick:t},r.a.createElement("img",{alt:"settings",height:40,width:40,src:a(283)})),r.a.createElement(oe.a,{id:"nav-menu",anchorEl:n,keepMounted:!0,open:Boolean(n),onClose:t},l?r.a.createElement(se,{dispatch:A,setAnchorMenu:c}):r.a.createElement(me,{dispatch:A,setAnchorMenu:c}),r.a.createElement(ue.a,null),r.a.createElement(ie.a,null,r.a.createElement(Ae.a,{inactiveLabel:"C\xb0",activeLabel:"F\xb0",value:i,colors:{activeThumb:{base:"rgb(250,250,250)"},inactiveThumb:{base:"rgb(62,130,247)"}},onToggle:u}))))}function de(){var e=Object(o.c)((function(e){return e.firebase.auth.uid})),t=Object(o.c)((function(e){return e.favorites.unit})),a=Object(o.b)(),c=Object(n.useState)(!1),i=Object(A.a)(c,2),u=i[0],l=i[1],s=Object(n.useState)(null),m=Object(A.a)(s,2),f=m[0],d=m[1];Object(n.useEffect)((function(){l("imperial"===t)}),[t]);var p=function(t){a(e?D({uid:e,unit:t}):P(t))};return r.a.createElement(fe,{handleClick:function(e){f?d(null):(e.preventDefault(),d(e.currentTarget))},anchorMenu:f,setAnchorMenu:d,toggleValue:u,handleToggle:function(){p(u?"metric":"imperial")}})}var pe=a(509),Ee=a(510);function he(){return r.a.createElement(pe.a,{style:{background:"#2E3B55"},position:"sticky"},r.a.createElement(Ee.a,null,r.a.createElement(S.a,{container:!0,justify:"space-between"},r.a.createElement(S.a,{item:!0,xs:7},r.a.createElement(W.a,{variant:"h5",align:"left"},"For Forecast")),r.a.createElement(te,null),r.a.createElement(de,null))))}var ge=a(247),be=a(248),ve=a(253),Oe=a(249),ye=a(254),je=(a(284),document.getElementById("modal-root")),Ce=function(e){function t(e){var a;return Object(ge.a)(this,t),(a=Object(ve.a)(this,Object(Oe.a)(t).call(this,e))).handleClick=function(e){a.modalNode.contains(e.target)||a.props.dispatch(ae())},a.el=document.createElement("div"),a}return Object(ye.a)(t,e),Object(be.a)(t,[{key:"componentDidMount",value:function(){je.appendChild(this.el),document.addEventListener("mousedown",this.handleClick,!1)}},{key:"componentWillUnmount",value:function(){je.removeChild(this.el),document.removeEventListener("mousedown",this.handleClick,!1)}},{key:"render",value:function(){var e=this;return i.a.createPortal(r.a.createElement("div",{ref:function(t){return e.modalNode=t}},this.props.children),this.el)}}]),t}(r.a.Component),Se=Object(Z.a)((function(e){return{"@global":{body:{backgroundColor:e.palette.common.white}},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},card:{minWidth:400},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),Ie=function(e){var t=e.Typography,a=e.Link;return r.a.createElement(t,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(a,{color:"inherit",href:"http://hagaiharari.tk/"},"Hagai Harari")," ",(new Date).getFullYear(),".")},we=a(511),Re=a(512),Ne=a(513),Te=a(514),ke=a(515);function Le(e){var t=e.setEmail,a=e.setPassword,n=e.span,c=e.onSubmitSignIn,i=Se();return r.a.createElement("div",{className:"my-center"},r.a.createElement(we.a,{className:i.card,style:{background:"#2E3B55"}},r.a.createElement(Re.a,null,r.a.createElement(Ne.a,{component:"main",maxWidth:"xs"},r.a.createElement(Te.a,null),r.a.createElement("div",{className:i.paper},r.a.createElement(W.a,{component:"h1",variant:"h5"},"Sign in"),r.a.createElement("form",{className:i.form,noValidate:!0},r.a.createElement(y.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",onChange:function(e){return t(e.target.value)},autoComplete:"off"}),r.a.createElement(y.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",onChange:function(e){return a(e.target.value)}}),r.a.createElement(I.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:i.submit,onClick:c},"Sign In")),n&&r.a.createElement(O,{content:n})),r.a.createElement(V.a,{mt:8},r.a.createElement(Ie,{Typography:W.a,Link:ke.a}))))))}var Pe=function(){var e=Object(o.c)((function(e){return e.firebase.auth.uid})),t=Object(o.c)((function(e){return e.authError})),c=Object(o.b)(),i=Object(n.useState)(""),u=Object(A.a)(i,2),l=u[0],s=u[1],m=Object(n.useState)(""),f=Object(A.a)(m,2),d=f[0],p=f[1],E=Object(n.useState)(null),h=Object(A.a)(E,2),g=h[0],b=h[1];return e&&c(ae()),t&&g!==t&&b(t),r.a.createElement(Le,{setEmail:s,setPassword:p,span:g,onSubmitSignIn:function(e){e.preventDefault(),c(ce()),b(r.a.createElement("img",{alt:"loading",src:a(85)})),c(ne({email:l,password:d}))}})};function xe(e){var t=e.setFirstName,a=e.setLastName,n=e.setEmail,c=e.setPassword,i=e.span,o=e.onSubmitRegister,u=Se();return r.a.createElement("div",{className:"my-center"},r.a.createElement(we.a,{className:u.card,style:{background:"#2E3B55"}},r.a.createElement(Re.a,null,r.a.createElement(Ne.a,{component:"main",maxWidth:"xs"},r.a.createElement(Te.a,null),r.a.createElement("div",{className:u.paper},r.a.createElement(W.a,{component:"h1",variant:"h5"},"Register"),r.a.createElement("form",{className:u.form,noValidate:!0},r.a.createElement(S.a,{container:!0,spacing:2},r.a.createElement(S.a,{item:!0,xs:12,sm:6},r.a.createElement(y.a,{autoComplete:"off",name:"firstName",variant:"outlined",required:!0,fullWidth:!0,id:"firstName",label:"First Name",autoFocus:!0,onChange:function(e){return t(e.target.value)}})),r.a.createElement(S.a,{item:!0,xs:12,sm:6},r.a.createElement(y.a,{variant:"outlined",fullWidth:!0,id:"lastName",label:"Last Name",name:"lastName",autoComplete:"off",onChange:function(e){return a(e.target.value)}})),r.a.createElement(S.a,{item:!0,xs:12},r.a.createElement(y.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"off",onChange:function(e){return n(e.target.value)}})),r.a.createElement(S.a,{item:!0,xs:12},r.a.createElement(y.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",onChange:function(e){return c(e.target.value)}}))),r.a.createElement(I.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:u.submit,onClick:o},"Register"),i&&r.a.createElement(O,{content:i}))),r.a.createElement(V.a,{mt:5},r.a.createElement(Ie,{Typography:W.a,Link:ke.a}))))))}var Fe=function(){var e=Object(o.c)((function(e){return e.firebase.auth.uid})),t=Object(o.c)((function(e){return e.authError})),c=Object(o.b)(),i=Object(n.useState)(""),u=Object(A.a)(i,2),l=u[0],s=u[1],m=Object(n.useState)(""),f=Object(A.a)(m,2),d=f[0],p=f[1],E=Object(n.useState)(""),h=Object(A.a)(E,2),g=h[0],b=h[1],v=Object(n.useState)(""),O=Object(A.a)(v,2),y=O[0],j=O[1],C=Object(n.useState)(null),S=Object(A.a)(C,2),I=S[0],w=S[1];return e&&c(ae()),t&&I!==t&&w(t),r.a.createElement(xe,{setEmail:s,setPassword:p,setFirstName:b,setLastName:j,span:I,onSubmitRegister:function(e){if(e.preventDefault(),c(ce()),g.length<1)return w("First name is required for registeration");w(r.a.createElement("img",{alt:"loading",src:a(85)})),c(re({email:l,password:d,firstName:g,lastName:y}))}})};function Be(){return r.a.createElement(V.a,{className:"my-center",style:{background:"#2E3B55",minWidth:"4000"}},r.a.createElement(S.a,{container:!0,direction:"column"},r.a.createElement(S.a,{item:!0,xs:12},r.a.createElement(W.a,{variant:"h3"},"OOOPPPPSSS,"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(W.a,{variant:"h6"},"the app reached it 50 calls per day")),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(S.a,{item:!0,xs:12},r.a.createElement(W.a,{variant:"h5"},"You can always try again tomorrow :)"))))}var De=a(157),Je=a.n(De);a(285),a(288),a(467);Je.a.initializeApp({apiKey:"AIzaSyB2kXfTiyNW9tUJtR30SMYKHuHSoaUKtts",authDomain:"herolo-966ed.firebaseapp.com",databaseURL:"https://herolo-966ed.firebaseio.com",projectId:"herolo-966ed",storageBucket:"herolo-966ed.appspot.com",messagingSenderId:"861935192137",appId:"1:861935192137:web:f8547810c7e110a53b9798",measurementId:"G-7NT73ZC5KW"});var Me=Je.a;function We(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ue(e){var t=e.uid,a=Object(o.b)();return Object(n.useEffect)((function(){var e=Me.firestore().collection("users").doc(t).onSnapshot((function(e){a(P(e.data().unit))}));return function(){return e()}}),[]),Object(n.useEffect)((function(){var e=Me.firestore().collection(t).onSnapshot((function(e){var t=e.docs.map((function(e){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?We(a,!0).forEach((function(t){Object(R.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):We(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e.data().location,{created:e.data().created})}));a(x(t))}));return function(){return e()}}),[]),null}var _e=a(250),Ve=a.n(_e),Qe={particles:{number:{value:350},size:{value:500,random:!0,anim:{speed:15,size_min:2.5}}}};function He(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.firebase.auth.uid})),a=Object(o.c)((function(e){return e.modal}));return r.a.createElement(u.a,null,r.a.createElement(Ve.a,{className:"particles",param:Qe}),r.a.createElement(he,null),r.a.createElement(l.c,null,r.a.createElement(l.a,{exact:!0,path:"/Hagai_Harari_17-11-2019/",component:Y}),r.a.createElement(l.a,{exact:!0,path:"/Hagai_Harari_17-11-2019/favorite",component:ee})),a&&r.a.createElement(Ce,{dispatch:e},"register"===a&&r.a.createElement(Fe,null),"signIn"===a&&r.a.createElement(Pe,null),"apiError"===a&&r.a.createElement(Be,null)),t&&r.a.createElement(Ue,{uid:t}))}var Ye=a(29),qe=a(251),Ge={modal:null,authError:null,api:{autoComplete:null,currentForecast:{imperial:0,metric:0,text:null},daysForecast:null},favorites:{cities:[],unit:"metric"}},ze=Object(Ye.c)({autoComplete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge.api.autoComplete,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"API_AUTOCOMPLETE":return t.locations;case"API_CLEAN":case"API_CLEAN_AUTOCOMPLETE":return null;default:return e}},currentForecast:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge.api.currentForecast,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"API_DAYS_FAVORITES_CURENNT":case"API_CURRENT_FORECAST":return t.data;case"API_CLEAN":return null;default:return e}},daysForecast:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge.api.daysForecast,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"API_DAYS_FORECAST":case"API_DAYS_FAVORITES_CURENNT":return t.days;case"API_CLEAN":return null;default:return e}}}),Ke=a(84),Xe=a(159),Ze=Object(Ye.c)({cities:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge.favorites.cities,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"ADD_FAVORITE_LOCALLY":return[].concat(Object(Xe.a)(t),[a.city]);case"REMOVE_FAVORITE_LOCALLY":e=t.slice();for(var n=0;n<e.length;n++)e[n].name===a.name&&e.splice(n,1);return e;case"FAVORITES_API_CALL":e=t.slice();for(var r=0;r<e.length;r++)e[r].name===a.name&&(e[r].forecast=a.forecast.Temperature);return e;case"FB_FAVORITES":return Object(Xe.a)(a.cities);case"SIGNOUT_SUCCESS":return[];default:return t}},unit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge.favorites.unit,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UNIT":return t.unit;case"SIGNOUT_SUCCESS":return"metric";default:return e}}}),$e=Object(Ye.c)({api:ze,firebase:Ke.firebaseReducer,authError:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge.authError,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH_ERROR_CLEARED":return null;case"AUTH_ERR":return t.err.message;default:return e}},modal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge.modal,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SIGNIN_MODAL":return"signIn";case"REGISTER_MODAL":return"register";case"API_ERR":return"apiError";case"CLEAR_MODAL":return null;default:return e}},favorites:Ze}),et=a(158),tt=Object(Ye.e)($e,Object(Ye.d)(Object(Ye.a)(qe.a.withExtraArgument({getFirebase:Ke.getFirebase,getFirestore:et.getFirestore})),Object(Ke.reactReduxFirebase)(Me,{userProfile:"users",useFirestoreForProfile:!0,attachAuthIsReady:!0}),Object(et.reduxFirestore)(Me)));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));tt.firebaseAuthIsReady.then((function(){i.a.render(r.a.createElement(o.a,{store:tt},r.a.createElement(He,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}))},85:function(e,t,a){e.exports=a.p+"static/media/loading.e7aa2d00.svg"}},[[266,1,2]]]);
//# sourceMappingURL=main.681e2065.chunk.js.map